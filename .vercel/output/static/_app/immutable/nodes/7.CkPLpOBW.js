import"../chunks/Bzak7iHL.js";import{i as Z}from"../chunks/vaeYXnz6.js";import{p as q,f as z,t as pe,a as R,b as ee,s as V,c as te,n as we,r as j,al as Ae,aj as Re,F as ie,u as ce,g as T,aZ as oe,Z as ae,ae as Le,af as ke,ag as H}from"../chunks/CGDq_wfd.js";import{p as $,s as Oe,a as Te}from"../chunks/Ci7lTiXK.js";import{p as $e}from"../chunks/yJ2TzxYs.js";import{g as Ce}from"../chunks/CNlZyMvx.js";import{c as Ne,a as Fe}from"../chunks/3drCvHHe.js";import{e as Pe,s as je}from"../chunks/Cgm7OfjV.js";import{r as Ke,s as ze}from"../chunks/DdpEupM6.js";import{b as De}from"../chunks/CP1QOfo9.js";import{i as he}from"../chunks/BVhk4JBA.js";import{e as We}from"../chunks/Prf2h6--.js";import{C as He}from"../chunks/Cxw-fkUr.js";function v(s){return Array.isArray?Array.isArray(s):Me(s)==="[object Array]"}function Be(s){if(typeof s=="string")return s;let e=s+"";return e=="0"&&1/s==-1/0?"-0":e}function Ve(s){return s==null?"":Be(s)}function S(s){return typeof s=="string"}function me(s){return typeof s=="number"}function Ge(s){return s===!0||s===!1||Ye(s)&&Me(s)=="[object Boolean]"}function xe(s){return typeof s=="object"}function Ye(s){return xe(s)&&s!==null}function _(s){return s!=null}function B(s){return!s.trim().length}function Me(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(s)}const Qe="Incorrect 'index' type",Ue=s=>`Invalid value for key ${s}`,Je=s=>`Pattern length exceeds max of ${s}.`,Xe=s=>`Missing ${s} property in key`,Ze=s=>`Property 'weight' in key '${s}' must be a positive integer`,le=Object.prototype.hasOwnProperty;class qe{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(r=>{let n=_e(r);t+=n.weight,this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight}),this._keys.forEach(r=>{r.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function _e(s){let e=null,t=null,r=null,n=1,i=null;if(S(s)||v(s))r=s,e=ue(s),t=G(s);else{if(!le.call(s,"name"))throw new Error(Xe("name"));const c=s.name;if(r=c,le.call(s,"weight")&&(n=s.weight,n<=0))throw new Error(Ze(c));e=ue(c),t=G(c),i=s.getFn}return{path:e,id:t,weight:n,src:r,getFn:i}}function ue(s){return v(s)?s:s.split(".")}function G(s){return v(s)?s.join("."):s}function et(s,e){let t=[],r=!1;const n=(i,c,o)=>{if(_(i))if(!c[o])t.push(i);else{let a=c[o];const h=i[a];if(!_(h))return;if(o===c.length-1&&(S(h)||me(h)||Ge(h)))t.push(Ve(h));else if(v(h)){r=!0;for(let l=0,u=h.length;l<u;l+=1)n(h[l],c,o+1)}else c.length&&n(h,c,o+1)}};return n(s,S(e)?e.split("."):e,0),r?t:t[0]}const tt={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},st={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(s,e)=>s.score===e.score?s.idx<e.idx?-1:1:s.score<e.score?-1:1},rt={location:0,threshold:.6,distance:100},nt={useExtendedSearch:!1,getFn:et,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var f={...st,...tt,...rt,...nt};const it=/[^ ]+/g;function ct(s=1,e=3){const t=new Map,r=Math.pow(10,e);return{get(n){const i=n.match(it).length;if(t.has(i))return t.get(i);const c=1/Math.pow(i,.5*s),o=parseFloat(Math.round(c*r)/r);return t.set(i,o),o},clear(){t.clear()}}}class se{constructor({getFn:e=f.getFn,fieldNormWeight:t=f.fieldNormWeight}={}){this.norm=ct(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((t,r)=>{this._keysMap[t.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,S(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){const t=this.size();S(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,r=this.size();t<r;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!_(e)||B(e))return;let r={v:e,i:t,n:this.norm.get(e)};this.records.push(r)}_addObject(e,t){let r={i:t,$:{}};this.keys.forEach((n,i)=>{let c=n.getFn?n.getFn(e):this.getFn(e,n.path);if(_(c)){if(v(c)){let o=[];const a=[{nestedArrIndex:-1,value:c}];for(;a.length;){const{nestedArrIndex:h,value:l}=a.pop();if(_(l))if(S(l)&&!B(l)){let u={v:l,i:h,n:this.norm.get(l)};o.push(u)}else v(l)&&l.forEach((u,d)=>{a.push({nestedArrIndex:d,value:u})})}r.$[i]=o}else if(S(c)&&!B(c)){let o={v:c,n:this.norm.get(c)};r.$[i]=o}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function ye(s,e,{getFn:t=f.getFn,fieldNormWeight:r=f.fieldNormWeight}={}){const n=new se({getFn:t,fieldNormWeight:r});return n.setKeys(s.map(_e)),n.setSources(e),n.create(),n}function ot(s,{getFn:e=f.getFn,fieldNormWeight:t=f.fieldNormWeight}={}){const{keys:r,records:n}=s,i=new se({getFn:e,fieldNormWeight:t});return i.setKeys(r),i.setIndexRecords(n),i}function P(s,{errors:e=0,currentLocation:t=0,expectedLocation:r=0,distance:n=f.distance,ignoreLocation:i=f.ignoreLocation}={}){const c=e/s.length;if(i)return c;const o=Math.abs(r-t);return n?c+o/n:o?1:c}function at(s=[],e=f.minMatchCharLength){let t=[],r=-1,n=-1,i=0;for(let c=s.length;i<c;i+=1){let o=s[i];o&&r===-1?r=i:!o&&r!==-1&&(n=i-1,n-r+1>=e&&t.push([r,n]),r=-1)}return s[i-1]&&i-r>=e&&t.push([r,i-1]),t}const L=32;function ht(s,e,t,{location:r=f.location,distance:n=f.distance,threshold:i=f.threshold,findAllMatches:c=f.findAllMatches,minMatchCharLength:o=f.minMatchCharLength,includeMatches:a=f.includeMatches,ignoreLocation:h=f.ignoreLocation}={}){if(e.length>L)throw new Error(Je(L));const l=e.length,u=s.length,d=Math.max(0,Math.min(r,u));let p=i,g=d;const m=o>1||a,x=m?Array(u):[];let M;for(;(M=s.indexOf(e,g))>-1;){let y=P(e,{currentLocation:M,expectedLocation:d,distance:n,ignoreLocation:h});if(p=Math.min(y,p),g=M+l,m){let E=0;for(;E<l;)x[M+E]=1,E+=1}}g=-1;let k=[],A=1,N=l+u;const Ie=1<<l-1;for(let y=0;y<l;y+=1){let E=0,I=N;for(;E<I;)P(e,{errors:y,currentLocation:d+I,expectedLocation:d,distance:n,ignoreLocation:h})<=p?E=I:N=I,I=Math.floor((N-E)/2+E);N=I;let re=Math.max(1,d-I+1),W=c?u:Math.min(d+I,u)+l,O=Array(W+2);O[W+1]=(1<<y)-1;for(let b=W;b>=re;b-=1){let F=b-1,ne=t[s.charAt(F)];if(m&&(x[F]=+!!ne),O[b]=(O[b+1]<<1|1)&ne,y&&(O[b]|=(k[b+1]|k[b])<<1|1|k[b+1]),O[b]&Ie&&(A=P(e,{errors:y,currentLocation:F,expectedLocation:d,distance:n,ignoreLocation:h}),A<=p)){if(p=A,g=F,g<=d)break;re=Math.max(1,2*d-g)}}if(P(e,{errors:y+1,currentLocation:d,expectedLocation:d,distance:n,ignoreLocation:h})>p)break;k=O}const D={isMatch:g>=0,score:Math.max(.001,A)};if(m){const y=at(x,o);y.length?a&&(D.indices=y):D.isMatch=!1}return D}function lt(s){let e={};for(let t=0,r=s.length;t<r;t+=1){const n=s.charAt(t);e[n]=(e[n]||0)|1<<r-t-1}return e}class be{constructor(e,{location:t=f.location,threshold:r=f.threshold,distance:n=f.distance,includeMatches:i=f.includeMatches,findAllMatches:c=f.findAllMatches,minMatchCharLength:o=f.minMatchCharLength,isCaseSensitive:a=f.isCaseSensitive,ignoreLocation:h=f.ignoreLocation}={}){if(this.options={location:t,threshold:r,distance:n,includeMatches:i,findAllMatches:c,minMatchCharLength:o,isCaseSensitive:a,ignoreLocation:h},this.pattern=a?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const l=(d,p)=>{this.chunks.push({pattern:d,alphabet:lt(d),startIndex:p})},u=this.pattern.length;if(u>L){let d=0;const p=u%L,g=u-p;for(;d<g;)l(this.pattern.substr(d,L),d),d+=L;if(p){const m=u-L;l(this.pattern.substr(m),m)}}else l(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,includeMatches:r}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let g={isMatch:!0,score:0};return r&&(g.indices=[[0,e.length-1]]),g}const{location:n,distance:i,threshold:c,findAllMatches:o,minMatchCharLength:a,ignoreLocation:h}=this.options;let l=[],u=0,d=!1;this.chunks.forEach(({pattern:g,alphabet:m,startIndex:x})=>{const{isMatch:M,score:k,indices:A}=ht(e,g,m,{location:n+x,distance:i,threshold:c,findAllMatches:o,minMatchCharLength:a,includeMatches:r,ignoreLocation:h});M&&(d=!0),u+=k,M&&A&&(l=[...l,...A])});let p={isMatch:d,score:d?u/this.chunks.length:1};return d&&r&&(p.indices=l),p}}class w{constructor(e){this.pattern=e}static isMultiMatch(e){return fe(e,this.multiRegex)}static isSingleMatch(e){return fe(e,this.singleRegex)}search(){}}function fe(s,e){const t=s.match(e);return t?t[1]:null}class ut extends w{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class ft extends w{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const r=e.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class dt extends w{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class gt extends w{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class pt extends w{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class mt extends w{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class Se extends w{constructor(e,{location:t=f.location,threshold:r=f.threshold,distance:n=f.distance,includeMatches:i=f.includeMatches,findAllMatches:c=f.findAllMatches,minMatchCharLength:o=f.minMatchCharLength,isCaseSensitive:a=f.isCaseSensitive,ignoreLocation:h=f.ignoreLocation}={}){super(e),this._bitapSearch=new be(e,{location:t,threshold:r,distance:n,includeMatches:i,findAllMatches:c,minMatchCharLength:o,isCaseSensitive:a,ignoreLocation:h})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class ve extends w{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t=0,r;const n=[],i=this.pattern.length;for(;(r=e.indexOf(this.pattern,t))>-1;)t=r+i,n.push([r,t-1]);const c=!!n.length;return{isMatch:c,score:c?0:1,indices:n}}}const Y=[ut,ve,dt,gt,mt,pt,ft,Se],de=Y.length,xt=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Mt="|";function _t(s,e={}){return s.split(Mt).map(t=>{let r=t.trim().split(xt).filter(i=>i&&!!i.trim()),n=[];for(let i=0,c=r.length;i<c;i+=1){const o=r[i];let a=!1,h=-1;for(;!a&&++h<de;){const l=Y[h];let u=l.isMultiMatch(o);u&&(n.push(new l(u,e)),a=!0)}if(!a)for(h=-1;++h<de;){const l=Y[h];let u=l.isSingleMatch(o);if(u){n.push(new l(u,e));break}}}return n})}const yt=new Set([Se.type,ve.type]);class bt{constructor(e,{isCaseSensitive:t=f.isCaseSensitive,includeMatches:r=f.includeMatches,minMatchCharLength:n=f.minMatchCharLength,ignoreLocation:i=f.ignoreLocation,findAllMatches:c=f.findAllMatches,location:o=f.location,threshold:a=f.threshold,distance:h=f.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:r,minMatchCharLength:n,findAllMatches:c,ignoreLocation:i,location:o,threshold:a,distance:h},this.pattern=t?e:e.toLowerCase(),this.query=_t(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:n}=this.options;e=n?e:e.toLowerCase();let i=0,c=[],o=0;for(let a=0,h=t.length;a<h;a+=1){const l=t[a];c.length=0,i=0;for(let u=0,d=l.length;u<d;u+=1){const p=l[u],{isMatch:g,indices:m,score:x}=p.search(e);if(g){if(i+=1,o+=x,r){const M=p.constructor.type;yt.has(M)?c=[...c,...m]:c.push(m)}}else{o=0,i=0,c.length=0;break}}if(i){let u={isMatch:!0,score:o/i};return r&&(u.indices=c),u}}return{isMatch:!1,score:1}}}const Q=[];function St(...s){Q.push(...s)}function U(s,e){for(let t=0,r=Q.length;t<r;t+=1){let n=Q[t];if(n.condition(s,e))return new n(s,e)}return new be(s,e)}const K={AND:"$and",OR:"$or"},J={PATH:"$path",PATTERN:"$val"},X=s=>!!(s[K.AND]||s[K.OR]),vt=s=>!!s[J.PATH],Et=s=>!v(s)&&xe(s)&&!X(s),ge=s=>({[K.AND]:Object.keys(s).map(e=>({[e]:s[e]}))});function Ee(s,e,{auto:t=!0}={}){const r=n=>{let i=Object.keys(n);const c=vt(n);if(!c&&i.length>1&&!X(n))return r(ge(n));if(Et(n)){const a=c?n[J.PATH]:i[0],h=c?n[J.PATTERN]:n[a];if(!S(h))throw new Error(Ue(a));const l={keyId:G(a),pattern:h};return t&&(l.searcher=U(h,e)),l}let o={children:[],operator:i[0]};return i.forEach(a=>{const h=n[a];v(h)&&h.forEach(l=>{o.children.push(r(l))})}),o};return X(s)||(s=ge(s)),r(s)}function It(s,{ignoreFieldNorm:e=f.ignoreFieldNorm}){s.forEach(t=>{let r=1;t.matches.forEach(({key:n,norm:i,score:c})=>{const o=n?n.weight:null;r*=Math.pow(c===0&&o?Number.EPSILON:c,(o||1)*(e?1:i))}),t.score=r})}function wt(s,e){const t=s.matches;e.matches=[],_(t)&&t.forEach(r=>{if(!_(r.indices)||!r.indices.length)return;const{indices:n,value:i}=r;let c={indices:n,value:i};r.key&&(c.key=r.key.src),r.idx>-1&&(c.refIndex=r.idx),e.matches.push(c)})}function At(s,e){e.score=s.score}function Rt(s,e,{includeMatches:t=f.includeMatches,includeScore:r=f.includeScore}={}){const n=[];return t&&n.push(wt),r&&n.push(At),s.map(i=>{const{idx:c}=i,o={item:e[c],refIndex:c};return n.length&&n.forEach(a=>{a(i,o)}),o})}class C{constructor(e,t={},r){this.options={...f,...t},this.options.useExtendedSearch,this._keyStore=new qe(this.options.keys),this.setCollection(e,r)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof se))throw new Error(Qe);this._myIndex=t||ye(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){_(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const t=[];for(let r=0,n=this._docs.length;r<n;r+=1){const i=this._docs[r];e(i,r)&&(this.removeAt(r),r-=1,n-=1,t.push(i))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:r,includeScore:n,shouldSort:i,sortFn:c,ignoreFieldNorm:o}=this.options;let a=S(e)?S(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return It(a,{ignoreFieldNorm:o}),i&&a.sort(c),me(t)&&t>-1&&(a=a.slice(0,t)),Rt(a,this._docs,{includeMatches:r,includeScore:n})}_searchStringList(e){const t=U(e,this.options),{records:r}=this._myIndex,n=[];return r.forEach(({v:i,i:c,n:o})=>{if(!_(i))return;const{isMatch:a,score:h,indices:l}=t.searchIn(i);a&&n.push({item:i,idx:c,matches:[{score:h,value:i,norm:o,indices:l}]})}),n}_searchLogical(e){const t=Ee(e,this.options),r=(o,a,h)=>{if(!o.children){const{keyId:u,searcher:d}=o,p=this._findMatches({key:this._keyStore.get(u),value:this._myIndex.getValueForItemAtKeyId(a,u),searcher:d});return p&&p.length?[{idx:h,item:a,matches:p}]:[]}const l=[];for(let u=0,d=o.children.length;u<d;u+=1){const p=o.children[u],g=r(p,a,h);if(g.length)l.push(...g);else if(o.operator===K.AND)return[]}return l},n=this._myIndex.records,i={},c=[];return n.forEach(({$:o,i:a})=>{if(_(o)){let h=r(t,o,a);h.length&&(i[a]||(i[a]={idx:a,item:o,matches:[]},c.push(i[a])),h.forEach(({matches:l})=>{i[a].matches.push(...l)}))}}),c}_searchObjectList(e){const t=U(e,this.options),{keys:r,records:n}=this._myIndex,i=[];return n.forEach(({$:c,i:o})=>{if(!_(c))return;let a=[];r.forEach((h,l)=>{a.push(...this._findMatches({key:h,value:c[l],searcher:t}))}),a.length&&i.push({idx:o,item:c,matches:a})}),i}_findMatches({key:e,value:t,searcher:r}){if(!_(t))return[];let n=[];if(v(t))t.forEach(({v:i,i:c,n:o})=>{if(!_(i))return;const{isMatch:a,score:h,indices:l}=r.searchIn(i);a&&n.push({score:h,key:e,value:i,idx:c,norm:o,indices:l})});else{const{v:i,n:c}=t,{isMatch:o,score:a,indices:h}=r.searchIn(i);o&&n.push({score:a,key:e,value:i,norm:c,indices:h})}return n}}C.version="6.6.2";C.createIndex=ye;C.parseIndex=ot;C.config=f;C.parseQuery=Ee;St(bt);var Lt=z(`<div class="flex flex-col gap-2"><label class="text-sm font-semibold text-emphasis" for="search-input">Volltextsuche</label> <input id="search-input" class="focus-ring w-full rounded-lg border border-muted/40 bg-surface/70 px-4 py-2 text-sm transition hover:border-accent focus:border-accent" type="search" autocomplete="off" spellcheck="false" aria-describedby="search-hint"/> <p id="search-hint" class="text-xs text-muted/80">Suchst du nach mehreren Hashtags, trenne sie mit Komma. Groß- und Kleinschreibung
    spielt keine Rolle.</p></div>`);function kt(s,e){q(e,!1);let t=$(e,"value",12,""),r=$(e,"placeholder",8,"Suche nach Titel, Hashtags oder Topics"),n=$(e,"debounce",8,250);const i=Ne();let c=null;const o=l=>{const d=l.target.value;c&&clearTimeout(c),c=setTimeout(()=>i("search",d),n())};Fe(()=>{c&&clearTimeout(c)}),Z();var a=Lt(),h=V(te(a),2);Ke(h),we(2),j(a),pe(()=>ze(h,"placeholder",r())),De(h,t),Pe("input",h,o),R(s,a),ee()}var Ot=z('<p class="rounded-lg border border-dashed border-muted/40 bg-surface/60 p-6 text-sm text-muted/80"><!></p>'),Tt=z('<div class="grid gap-6 md:grid-cols-2"></div>');function $t(s,e){q(e,!1);let t=$(e,"results",24,()=>[]),r=$(e,"query",8,"");Z();var n=Ae(),i=Re(n);{var c=a=>{var h=Ot(),l=te(h);{var u=p=>{var g=oe("Tippe einen Suchbegriff ein, um Ergebnisse zu sehen.");R(p,g)},d=p=>{var g=oe();pe(()=>je(g,`Keine Treffer für „${r()??""}“. Versuche andere Schlüsselwörter oder kombiniere Hashtags.`)),R(p,g)};he(l,p=>{ie(r()),ce(()=>r().trim().length===0)?p(u):p(d,!1)})}j(h),R(a,h)},o=a=>{var h=Tt();We(h,5,t,l=>l.slug,(l,u)=>{He(l,{get post(){return T(u)}})}),j(h),R(a,h)};he(i,a=>{ie(t()),ce(()=>t().length===0)?a(c):a(o,!1)})}R(s,n),ee()}var Ct=z(`<section class="space-y-10"><header class="space-y-3"><h1 class="text-3xl font-bold text-emphasis">Suche & Exploration</h1> <p class="text-sm text-emphasis/80">Durchsuche Titel, Auszüge, Volltext sowie Hashtags und Themen. Die Suche ist fuzzy –
      Tippfehler werden toleriert, relevante Ergebnisse erscheinen zuerst.</p></header> <!> <!></section>`);function Ut(s,e){q(e,!1);const t=()=>Te($e,"$page",r),[r,n]=Oe();let i=$(e,"data",8);const c=new C(i().searchDocuments,{includeScore:!0,threshold:.35,keys:["title","excerpt","content","tags","topics","autoHashtags"]});let o=ae(""),a=ae(i().posts);const h=g=>{if(!g)return i().posts;const m=c.search(g),x=new Set(m.map(M=>M.item.slug));return i().posts.filter(M=>x.has(M.slug))},l=(g,m=!0)=>{if(H(o,g),H(a,h(g)),m&&typeof window<"u"){const x=new URL(window.location.href);g?x.searchParams.set("query",g):x.searchParams.delete("query"),Ce(x.toString(),{replaceState:!0})}};Le(()=>(t(),T(o)),()=>{{const g=t().url.searchParams.get("query")??"";g!==T(o)&&l(g,!1)}}),ke(),Z();var u=Ct(),d=V(te(u),2);kt(d,{get value(){return T(o)},set value(g){H(o,g)},$$events:{search:g=>l(g.detail)},$$legacy:!0});var p=V(d,2);$t(p,{get results(){return T(a)},get query(){return T(o)}}),j(u),R(s,u),ee(),n()}export{Ut as component};
